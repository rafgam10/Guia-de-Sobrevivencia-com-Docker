
# Entendendo Imagens e Containers no Docker

Para usar Docker de forma correta, Ã© essencial entender **a diferenÃ§a entre imagens e containers**.  
Esse Ã© um dos conceitos mais importantes â€” e tambÃ©m um dos mais confundidos.

---

## ğŸ§± O que Ã© uma Imagem Docker?

Uma **imagem** Ã© um **pacote imutÃ¡vel** que contÃ©m tudo o que a aplicaÃ§Ã£o precisa para rodar.

Ela inclui:
- cÃ³digo da aplicaÃ§Ã£o
- dependÃªncias
- bibliotecas
- configuraÃ§Ãµes
- sistema base (ex: Alpine, Ubuntu)

ğŸ“Œ Pense na imagem como um **molde** ou **receita**.

---

### ğŸ”¹ CaracterÃ­sticas das imagens
- SÃ£o **imutÃ¡veis**
- NÃ£o executam nada sozinhas
- Podem ser versionadas (`python:3.11`, `node:20`)
- Podem ser reutilizadas para criar vÃ¡rios containers

---

### ğŸ”¹ Exemplo mental
> Imagem Ã© como o **arquivo `.exe`**  
> Container Ã© o **programa rodando**

---

## â–¶ï¸ O que Ã© um Container?

Um **container** Ã© uma **instÃ¢ncia em execuÃ§Ã£o** de uma imagem.

Ele Ã©:
- criado a partir de uma imagem
- isolado do sistema
- executÃ¡vel
- descartÃ¡vel

ğŸ“Œ Se a imagem Ã© o molde, o container Ã© o **objeto criado a partir dele**.

---

### ğŸ”¹ CaracterÃ­sticas dos containers
- Podem ser iniciados e parados
- TÃªm estado (logs, arquivos temporÃ¡rios)
- Podem ser removidos
- Compartilham o kernel do host

---

## ğŸ” RelaÃ§Ã£o entre Imagem e Container

- Uma imagem â†’ pode gerar **vÃ¡rios containers**
- Cada container â†’ Ã© independente
- AlteraÃ§Ãµes dentro do container **nÃ£o mudam a imagem**

ğŸ“Œ Para mudar a imagem, vocÃª precisa **rebuildar**.

---

## ğŸ§  Exemplo prÃ¡tico

### 1ï¸âƒ£ Baixar uma imagem
```bash
docker pull python:3.11
````

---

### 2ï¸âƒ£ Criar containers a partir da imagem

```bash
docker run python:3.11
docker run python:3.11
```

â¡ï¸ Dois containers diferentes, **mesma imagem**.

---

## ğŸ—‚ï¸ Sistema de camadas (layers)

Imagens Docker sÃ£o criadas em **camadas**.

Exemplo:

```dockerfile
FROM python:3.11
COPY . .
RUN pip install -r requirements.txt
```

Cada linha cria uma camada:

1. Base Python
2. CÃ³digo copiado
3. DependÃªncias instaladas

ğŸ“Œ Docker reutiliza camadas iguais â†’ build mais rÃ¡pido.

---

## ğŸ§© O papel do Dockerfile

O **Dockerfile** define como a imagem Ã© criada.

Exemplo simples:

```dockerfile
FROM node:20
WORKDIR /app
COPY package.json .
RUN npm install
COPY . .
CMD ["npm", "start"]
```

â¡ï¸ Isso gera uma **imagem**, nÃ£o um container.

---

## ğŸŒ Containers e persistÃªncia de dados

Por padrÃ£o:

- containers sÃ£o **efÃªmeros**
- ao remover um container, os dados se perdem

### ğŸ”¹ SoluÃ§Ã£o: volumes

```bash
docker run -v dados:/app/data imagem
```

Volumes permitem:

- persistir dados    
- compartilhar dados entre containers

---

## ğŸ§‘â€ğŸ’» Imagens e containers no dia a dia

### Desenvolvimento

- Imagem define o ambiente
- Container executa a app
- Volume sincroniza cÃ³digo

### ProduÃ§Ã£o

- Mesma imagem do dev
- Containers escalÃ¡veis
- Deploy previsÃ­vel

---

## âš ï¸ Erros comuns

- âŒ Confundir imagem com container
- âŒ Alterar coisas dentro do container achando que salva na imagem
- âŒ NÃ£o versionar imagens
- âŒ NÃ£o usar volumes para dados importantes

---

## ğŸ“Œ Resumo rÃ¡pido

- Imagem = molde imutÃ¡vel
- Container = instÃ¢ncia em execuÃ§Ã£o
- Uma imagem pode gerar vÃ¡rios containers
- Containers sÃ£o descartÃ¡veis
- Dockerfile cria imagens, nÃ£o containers